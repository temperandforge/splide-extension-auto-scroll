/*!
 * @splidejs/splide-extension-auto-scroll
 * Version  : 0.5.3
 * License  : MIT
 * Copyright: 2025 Naotoshi Fujita
 */(function(C){typeof define=="function"&&define.amd?define(C):C()})(function(){"use strict";function C(n){n.length=0}function N(n,t,r){return Array.prototype.slice.call(n,t,r)}function $(n){return n.bind.apply(n,[null].concat(N(arguments,1)))}function B(n){return requestAnimationFrame(n)}function P(n,t){return typeof t===n}var H=Array.isArray;$(P,"function"),$(P,"string"),$(P,"undefined");function K(n){return H(n)?n:[n]}function J(n,t){K(n).forEach(t)}var sn=Object.keys;function dn(n,t,r){if(n){var e=sn(n);e=r?e.reverse():e;for(var o=0;o<e.length;o++){var f=e[o];if(f!=="__proto__"&&t(n[f],f)===!1)break}}return n}function ln(n){return N(arguments,1).forEach(function(t){dn(t,function(r,e){n[e]=t[e]})}),n}var vn=Math.min;function pn(){var n=[];function t(i,s,u,d){o(i,s,function(c,p,l){var A="addEventListener"in c,g=A?c.removeEventListener.bind(c,p,u,d):c.removeListener.bind(c,u);A?c.addEventListener(p,u,d):c.addListener(u),n.push([c,p,l,u,g])})}function r(i,s,u){o(i,s,function(d,c,p){n=n.filter(function(l){return l[0]===d&&l[1]===c&&l[2]===p&&(!u||l[3]===u)?(l[4](),!1):!0})})}function e(i,s,u){var d,c=!0;return typeof CustomEvent=="function"?d=new CustomEvent(s,{bubbles:c,detail:u}):(d=document.createEvent("CustomEvent"),d.initCustomEvent(s,c,!1,u)),i.dispatchEvent(d),d}function o(i,s,u){J(i,function(d){d&&J(s,function(c){c.split(" ").forEach(function(p){var l=p.split(".");u(d,l[0],l[1])})})})}function f(){n.forEach(function(i){i[4]()}),C(n)}return{bind:t,unbind:r,dispatch:e,destroy:f}}var Q="move",U="moved",En="updated",W="drag",mn="dragged",Y="scroll",X="scrolled",An="destroy";function hn(n){var t=n?n.event.bus:document.createDocumentFragment(),r=pn();function e(f,i){r.bind(t,K(f).join(" "),function(s){i.apply(i,H(s.detail)?s.detail:[])})}function o(f){r.dispatch(t,f,N(arguments,1))}return n&&n.event.on(An,r.destroy),ln(r,{bus:t,on:e,off:$(r.unbind,t),emit:o})}function gn(n,t,r,e){var o=Date.now,f,i=0,s,u=!0,d=0;function c(){if(!u){if(i=n?vn((o()-f)/n,1):1,r&&r(i),i>=1&&(t(),f=o(),e&&++d>=e))return l();B(c)}}function p(E){!E&&g(),f=o()-(E?i*n:0),u=!1,B(c)}function l(){u=!0}function A(){f=o(),i=0,r&&r(i)}function g(){s&&cancelAnimationFrame(s),i=0,s=0,u=!0}function S(E){n=E}function _(){return u}return{start:p,rewind:A,pause:l,cancel:g,set:S,isPaused:_}}function wn(n,t){var r;function e(){r||(r=gn(t||0,function(){n(),r=null},null,1),r.start())}return e}var bn="is-active",yn="slide",Sn="fade";function Z(n){return requestAnimationFrame(n)}function _n(n,t,r,e){var o=Date.now,f,i=0,s,u=!0,d=0,c=1e3/60,p=0,l=0,A=!1;function g(v){if(!A){A=!0,l=performance.now();var h=function L(y){if(A){var O=y-l;for(l=y,p+=O;p>=c;)v(c),p-=c;s=Z(L)}};s=Z(h)}}function S(){if(!u&&(i=n?Math.min((o()-f)/n,1):1,r&&r(i),i>=1&&(t(),f=o(),e&&++d>=e)))return E()}function _(v){v||b(),f=o()-(v?i*n:0),u=!1,g(S)}function E(){u=!0}function F(){f=o(),i=0,r&&r(i)}function b(){s&&cancelAnimationFrame(s),i=0,s=0,u=!0}function q(v){n=v}function m(){return u}return{start:_,rewind:F,pause:E,cancel:b,set:q,isPaused:m}}function j(n,t,r){return Array.prototype.slice.call(n,t,r)}function x(n){return n.bind.apply(n,[null].concat(j(arguments,1)))}function M(n,t){return typeof t===n}function R(n){return!k(n)&&M("object",n)}var Ln=Array.isArray;x(M,"function"),x(M,"string");var On=x(M,"undefined");function k(n){return n===null}function Tn(n){return Ln(n)?n:[n]}function V(n,t){Tn(n).forEach(t)}function Dn(n,t,r){n&&V(t,function(e){e&&n.classList[r?"add":"remove"](e)})}var Cn=Object.keys;function nn(n,t,r){if(n){var e=Cn(n);e=r?e.reverse():e;for(var o=0;o<e.length;o++){var f=e[o];if(f!=="__proto__"&&t(n[f],f)===!1)break}}return n}function tn(n){return j(arguments,1).forEach(function(t){nn(t,function(r,e){n[e]=t[e]})}),n}function $n(n,t){V(n,function(r){V(t,function(e){r&&r.removeAttribute(e)})})}function rn(n,t,r){R(t)?nn(t,function(e,o){rn(n,o,e)}):V(n,function(e){k(r)||r===""?$n(e,t):e.setAttribute(t,String(r))})}var en=Math.min,on=Math.max,Bn=Math.floor,Hn=Math.ceil,Kn=Math.abs;function Mn(n,t,r){var e=en(t,r),o=on(t,r);return en(on(e,n),o)}var Vn={speed:1,autoStart:!0,pauseOnHover:!0,pauseOnFocus:!0},Fn={startScroll:"Start auto scroll",pauseScroll:"Pause auto scroll"};function In(n,t,r){var e=hn(n),o=e.on,f=e.off,i=e.bind,s=e.unbind,u=t.Move,d=u.translate,c=u.getPosition,p=u.toIndex,l=u.getLimit,A=t.Controller,g=A.setIndex,S=A.getIndex,_=t.Direction.orient,E=t.Elements.toggle,F=t.Live,b=n.root,q=wn(t.Arrows.update,500),m={},v,h,L,y,O,I;function Nn(){var a=r.autoScroll;m=tn({},Vn,R(a)?a:{})}function un(){n.is(Sn)||!v&&r.autoScroll!==!1&&(v=_n(0,qn),Pn(),Rn())}function an(){v&&(v.cancel(),v=null,I=void 0,f([Q,W,Y,U,X]),s(b,"mouseenter mouseleave focusin focusout"),s(E,"click"))}function Pn(){m.pauseOnHover&&i(b,"mouseenter mouseleave",function(a){L=a.type==="mouseenter",G()}),m.pauseOnFocus&&i(b,"focusin focusout",function(a){y=a.type==="focusin",G()}),m.useToggleButton&&i(E,"click",function(){h?T():D()}),o(En,xn),o([Q,W,Y],function(){O=!0,D(!1)}),o([U,mn,X],function(){O=!1,G()})}function xn(){var a=r.autoScroll;a!==!1?(m=tn({},m,R(a)?a:{}),un()):an(),v&&!On(I)&&d(I)}function Rn(){m.autoStart&&(document.readyState==="complete"?T():i(window,"load",T))}function T(){z()&&(v.start(!0),F.disable(!0),y=L=h=!1,fn())}function D(a){a===void 0&&(a=!0),h||(h=a,fn(),z()||(v.pause(),F.disable(!1)))}function G(){h||(L||y||O?D(!1):T())}function qn(){var a=c(),w=Gn(a);a!==w?(d(w),zn(I=c())):(D(!1),m.rewind&&n.go(m.speed>0?0:t.Controller.getEnd())),q()}function Gn(a){var w=m.speed||1;return a+=_(w),n.is(yn)&&(a=Mn(a,l(!1),l(!0))),a}function zn(a){var w=n.length,cn=(p(a)+w)%w;cn!==S()&&(g(cn),t.Slides.update(),t.Pagination.update(),r.lazyLoad==="nearby"&&t.LazyLoad.check())}function fn(){if(E){var a=h?"startScroll":"pauseScroll";Dn(E,bn,!h),rn(E,"aria-label",r.i18n[a]||Fn[a])}}function z(){return!v||v.isPaused()}return{setup:Nn,mount:un,destroy:an,play:T,pause:D,isPaused:z}}typeof window<"u"&&(window.splide=window.splide||{},window.splide.Extensions=window.splide.Extensions||{},window.splide.Extensions.AutoScroll=In)});
